<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prix des Cryptos</title>
</head>
<body>
    <h1>Prix des Cryptomonnaies</h1>
    <pre id="jsonDisplay">Chargement...</pre>

    <script>
        // Fonction pour récupérer le prix de chaque crypto
        async function fetchCryptoPrices() {
            const urls = {
                bitcoin: 'https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd',
                ethereum: 'https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd',
                solana: 'https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd'
            };

            try {
                // Récupérer les données de chaque crypto simultanément avec Promise.all
                const responses = await Promise.all([
                    fetch(urls.bitcoin),
                    fetch(urls.ethereum),
                    fetch(urls.solana)
                ]);

                // Attendre que toutes les réponses soient converties en JSON
                const data = await Promise.all(responses.map(response => response.json()));

                // Formater les données dans le schéma JSON personnalisé
                const formattedData = {
                    bitcoin: {
                        usd: data[0].bitcoin.usd
                    },
                    ethereum: {
                        usd: data[1].ethereum.usd
                    },
                    solana: {
                        usd: data[2].solana.usd
                    }
                };

                // Afficher le JSON formaté
                document.getElementById('jsonDisplay').textContent = JSON.stringify(formattedData, null, 2);
            } catch (error) {
                document.getElementById('jsonDisplay').textContent = 'Erreur lors du chargement des données.';
            }
        }

        // Appeler la fonction pour charger les prix
        fetchCryptoPrices();
    </script>
</body>
</html>
